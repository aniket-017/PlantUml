@startuml PlantUML Test Case Generator - System Architecture

!theme cerulean
skinparam backgroundColor #F8FAFC
skinparam componentStyle rectangle
skinparam packageStyle rectangle
skinparam packagePadding 15
skinparam componentPadding 10
skinparam roundcorner 10

title <size:18><b>PlantUML Test Case Generator</b></size>\n<size:14>System Architecture</size>

package "ðŸŽ¨ Frontend (React)" #E8F5E8 {
    [Landing Page] as LP #C8E6C9
    [File Upload] as FU #C8E6C9
    [Test Editor] as TCE #C8E6C9
    [Diagram Viewer] as DV #C8E6C9
    [Chat Interface] as CI #C8E6C9
    [Step Indicator] as SI #C8E6C9
}

package "ðŸ§  State Management" #E3F2FD {
    [App Context] as AC #BBDEFB
    [API Service] as API #BBDEFB
}

package "âš¡ Backend (FastAPI)" #FFF3E0 {
    [Main App] as MA #FFE0B2
    [CORS Middleware] as CM #FFE0B2
    [Static Server] as SFS #FFE0B2
}

package "ðŸ¤– AI Services" #F3E5F5 {
    [OpenAI API] as OAI #E1BEE7
    [PhiData Agents] as PDF #E1BEE7
    [Test Analyzer] as TCA #E1BEE7
    [Code Generator] as CG #E1BEE7
}

package "ðŸ“Š Data Processing" #E0F2F1 {
    [CSV Service] as CSV #B2DFDB
    [PlantUML Engine] as PE #B2DFDB
    [File Utils] as FU2 #B2DFDB
}

package "ðŸ’¾ Storage" #FCE4EC {
    [Uploads] as UD #F8BBD9
    [Generated Files] as GF #F8BBD9
}

' Main flow connections
LP --> FU
FU --> TCE
TCE --> DV
DV --> CI
SI --> LP
SI --> FU
SI --> TCE
SI --> DV
SI --> CI

' State management
AC --> LP
AC --> FU
AC --> TCE
AC --> DV
AC --> CI
API --> MA

' Backend flow
MA --> CM
MA --> SFS
MA --> CSV
MA --> PE

' AI integration
CSV --> TCA
CSV --> CG
TCA --> OAI
CG --> OAI
PDF --> TCA
PDF --> CG

' Data processing
CSV --> FU2
PE --> FU2
FU2 --> UD
FU2 --> GF
UD --> CSV
GF --> SFS

note right of OAI #E1BEE7
  <b>ðŸ¤– AI Capabilities:</b>
  â€¢ Test case enhancement
  â€¢ Flow analysis
  â€¢ PlantUML generation
  â€¢ Code refinement
end note

note right of PDF #E1BEE7
  <b>ðŸ§  PhiData Framework:</b>
  â€¢ Agent-based workflows
  â€¢ Direct OpenAI integration
  â€¢ Specialized CSV tools
  â€¢ Markdown support
end note

note right of PE #B2DFDB
  <b>ðŸ“Š PlantUML Engine:</b>
  â€¢ Java-based generation
  â€¢ Sequence diagrams
  â€¢ PNG output
  â€¢ PUML files
end note

@enduml
